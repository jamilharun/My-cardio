{% extends 'patient_dashboard.html' %}
{% block title %}Health Report{% endblock %}

{% block patient_content %}
<a href="{% url 'health_report_list' %}" class="text-blue-500 hover:underline flex items-center mb-4">
    🔙 Back to Reports
</a>

<h1 class="text-3xl font-bold text-blue-600 text-center">📋 Health Report</h1>

<div class="bg-white p-6 shadow-lg rounded-lg mt-6">
    <h2 class="text-xl font-semibold">Patient: {{ report.user.username }}</h2>
    <p class="text-gray-700 mt-2"><strong>Date:</strong> {{ report.created_at|date:"Y-m-d" }}</p>
    <p class="text-gray-700"><strong>Risk Level:</strong> 
        <span class="text-{% if report.risk_level == 'High' %}red{% elif report.risk_level == 'Medium' %}yellow{% else %}green{% endif %}-600">
            {{ report.risk_level }}
        </span>
    </p>
</div>

<!-- 📊 Health Metrics -->
<h2 class="text-xl font-semibold text-gray-700 mt-6">📊 Health Metrics</h2>

<table class="min-w-full bg-white shadow-md rounded-lg mt-4">
    <tr><td class="py-2 px-4 border font-semibold">Blood Pressure</td><td class="py-2 px-4 border">{{ report.blood_pressure }}</td></tr>
    <tr><td class="py-2 px-4 border font-semibold">Cholesterol Level</td><td class="py-2 px-4 border">{{ report.cholesterol_level }}</td></tr>
    <tr><td class="py-2 px-4 border font-semibold">Glucose Level</td><td class="py-2 px-4 border">{{ report.glucose_level }}</td></tr>
    <tr><td class="py-2 px-4 border font-semibold">BMI</td><td class="py-2 px-4 border">{{ report.bmi }}</td></tr>
</table>

<!-- 📌 Doctor's Recommendations -->
<h2 class="text-xl font-semibold text-gray-700 mt-6">📝 Doctor's Recommendations</h2>
<p class="bg-gray-100 p-4 rounded-lg shadow-sm mt-2">{{ report.recommendations|default:"No recommendations available." }}</p>

{% endblock %}
